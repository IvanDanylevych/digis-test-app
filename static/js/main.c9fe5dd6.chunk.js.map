{"version":3,"sources":["components/spinner/spinner.module.scss","store/actions/actionTypes.js","utils/index.js","store/reducers/city.js","components/input/index.jsx","components/chart/index.jsx","components/button/index.jsx","components/spinner/index.jsx","container/Main/Main.jsx","store/selectors/weatherSelector.js","store/selectors/errorSelector.js","store/selectors/loadingSelector.js","api/index.js","store/actions/city.js","container/Main/index.js","index.js","container/Main/Main.module.scss"],"names":["module","exports","FETCH_CITY_START","FETCH_CITY_SUCCESSFUL","FETCH_CITY_ERROR","formatTemperature","temp","Math","floor","formatDate","date","moment","unix","format","enumErrorTypes","400","404","updateObject","oldObject","updatedProperties","initialState","city","loading","error","fetchStart","state","action","fetchSuccessful","payload","fetchError","reducer","type","actionTypes","Input","onChange","placeholder","e","target","value","CustomTooltip","active","label","length","avg","min","max","Chart","data","BarChart","layout","width","height","CartesianGrid","strokeDasharray","YAxis","dataKey","fontSize","tickFormatter","tick","XAxis","Tooltip","position","y","x","content","Legend","Bar","name","fill","Button","onClick","text","Spinner","className","styles","Loader","Main","onFetchCity","weatherList","useState","inputValue","setInputValue","mainWrapper","inputWrapper","errorMessage","map","i","dt","main","temp_min","temp_max","weatherSelector","list","errorSelector","cod","loadingSelector","base_url","API_key","fetchCity","cityName","dispatch","actionsTypes","city_name","axios","get","getCity","then","res","catch","fetchCityFail","response","connect","rootReducer","combineReducers","cityReducer","store","createStore","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c9fe5dd6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"spinner_Loader__Ta4cx\",\"load2\":\"spinner_load2__hpIS4\"};","export const FETCH_CITY_START = 'FETCH_CITIES_START';\nexport const FETCH_CITY_SUCCESSFUL = 'FETCH_CITIES_SUCCESSFUL';\nexport const FETCH_CITY_ERROR = 'FETCH_CITIES_ERROR';\n","import moment from 'moment';\n\nexport const formatTemperature = temp => Math.floor(temp - 273);\n\nexport const formatDate = date => moment.unix(date).format('YYYY-MM-DD, HH:MM');\n\nexport const formatDataForChart = data =>\n  data.map(i => ({\n    date: i.dt,\n    min: formatTemperature(i.main.temp_min),\n    max: formatTemperature(i.main.temp_max),\n    avg: formatTemperature(i.main.temp),\n  }));\n\nexport const enumErrorTypes = {\n  400: 'Please type your city name',\n  404: 'Please try another city',\n};\n\nexport const updateObject = (oldObject, updatedProperties) => {\n  return {\n    ...oldObject,\n    ...updatedProperties,\n  };\n};\n","import * as actionTypes from '../actions/actionTypes';\nimport { updateObject } from '../../utils';\n\nconst initialState = {\n  city: {},\n  loading: false,\n  error: null,\n};\n\nconst fetchStart = (state, action) => {\n  return updateObject(state, { loading: true });\n};\n\nconst fetchSuccessful = (state, action) => {\n  return updateObject(state, { city: action.payload, loading: false, error: null });\n};\n\nconst fetchError = (state, action) => {\n  return updateObject(state, { error: action.payload, loading: false, city: {} });\n};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case actionTypes.FETCH_CITY_START:\n      return fetchStart(state, action);\n    case actionTypes.FETCH_CITY_SUCCESSFUL:\n      return fetchSuccessful(state, action);\n    case actionTypes.FETCH_CITY_ERROR:\n      return fetchError(state, action);\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import React from 'react';\n\nexport const Input = ({ onChange }) => (\n  <input placeholder=\"Please type your city\" onChange={e => onChange(e.target.value)} />\n);\n","import React from 'react';\n\nimport { formatDate } from '../../utils';\nimport { BarChart, CartesianGrid, XAxis, YAxis, Tooltip, Legend, Bar } from 'recharts';\n\nconst CustomTooltip = ({ active, payload, label }) => {\n  if (active && payload && payload.length) {\n    return (\n      <div>\n        <p>date: {formatDate(label)}</p>\n        <p>temperature: {payload[0].payload.avg}&#8451;</p>\n        <p>min-max: {`${payload[0].payload.min}-${payload[0].payload.max}`}&#8451;</p>\n      </div>\n    );\n  }\n\n  return null;\n};\n\nexport const Chart = ({ data }) => (\n  <BarChart layout={'vertical'} width={600} height={1000} data={data}>\n    <CartesianGrid strokeDasharray=\"5 5\" />\n    <YAxis type=\"category\" dataKey=\"date\" fontSize=\"10\" tickFormatter={tick => formatDate(tick)} />\n    <XAxis type=\"number\" />\n    <Tooltip position={{ y: 80, x: 600 }} content={<CustomTooltip />} />\n    <Legend />\n    <Bar name=\"temperature &#8451;\" dataKey=\"avg\" fill=\"#8884d8\" />\n  </BarChart>\n);\n","import React from 'react';\n\nexport const Button = ({ onClick = () => {}, text = '' }) => <button onClick={onClick}>{text}</button>;\n","import React from 'react';\n\nimport styles from './spinner.module.scss';\n\nexport const Spinner = () => <div className={styles.Loader}>Loading...</div>;\n","import React, { useState } from 'react';\n\nimport styles from './Main.module.scss';\n\nimport { Chart, Button, Input, Spinner } from '../../components';\nimport { formatDataForChart, enumErrorTypes } from '../../utils';\n\nconst Main = ({ onFetchCity, weatherList, error, loading }) => {\n  const [inputValue, setInputValue] = useState('');\n\n  const searchButtonHandler = () => {\n    onFetchCity(inputValue);\n  };\n\n  return (\n    <div className={styles.mainWrapper}>\n      <div className={styles.inputWrapper}>\n        <Input onChange={setInputValue} />\n        <Button onClick={searchButtonHandler} text=\"Search\" />\n      </div>\n      {loading && <Spinner />}\n      {error && <div className={styles.errorMessage}>{enumErrorTypes[error]}</div>}\n      {weatherList && <Chart data={formatDataForChart(weatherList)} />}\n    </div>\n  );\n};\n\nexport default Main;\n","export const weatherSelector = state => state.city?.city?.list;\n","export const errorSelector = state => state.city.error?.cod;\n","export const loadingSelector = state => state.city.loading;\n","import axios from 'axios';\n\nconst base_url = 'https://api.openweathermap.org/data/2.5/forecast';\nconst API_key = 'bad46dfee1ae1125ec4faf31e63449de';\n\nexport const getCity = (city_name = '') => axios.get(`${base_url}?q=${city_name}&appid=${API_key}`);\n","import * as actionsTypes from './actionTypes';\n\nimport { getCity } from '../../api';\n\nexport const fetchCityStart = () => {\n  return {\n    type: actionsTypes.FETCH_CITY_START,\n  };\n};\n\nexport const fetchCitySuccess = city => {\n  return {\n    type: actionsTypes.FETCH_CITY_SUCCESSFUL,\n    payload: city,\n  };\n};\n\nexport const fetchCityFail = error => {\n  return {\n    type: actionsTypes.FETCH_CITY_ERROR,\n    payload: error,\n  };\n};\n\nexport const fetchCity = cityName => {\n  return dispatch => {\n    dispatch(fetchCityStart());\n    getCity(cityName)\n      .then(res => {\n        dispatch(fetchCitySuccess(res.data));\n      })\n      .catch(error => {\n        dispatch(fetchCityFail(error.response.data));\n      });\n  };\n};\n","import Main from './Main';\nimport { connect } from 'react-redux';\nimport { weatherSelector, errorSelector, loadingSelector } from '../../store/selectors';\nimport { fetchCity } from '../../store/actions/city';\n\nconst mapStateToProps = state => {\n  return {\n    weatherList: weatherSelector(state),\n    error: errorSelector(state),\n    loading: loadingSelector(state),\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onFetchCity: cityName => dispatch(fetchCity(cityName)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Main);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware, combineReducers } from 'redux';\nimport thunk from 'redux-thunk';\nimport cityReducer from '../src/store/reducers/city';\nimport Main from '../src/container/Main';\nimport './index.scss';\n\nconst rootReducer = combineReducers({\n  city: cityReducer,\n});\n\nconst store = createStore(rootReducer, applyMiddleware(thunk));\n\nReactDOM.render(\n  <Provider store={store}>\n    <Main />\n  </Provider>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainWrapper\":\"Main_mainWrapper__1CSF0\",\"inputWrapper\":\"Main_inputWrapper__3XaM5\",\"errorMessage\":\"Main_errorMessage__3s4xF\"};"],"sourceRoot":""}