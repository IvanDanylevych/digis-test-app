(this["webpackJsonpdigis-test"]=this["webpackJsonpdigis-test"]||[]).push([[0],{218:function(t,e,n){t.exports={Loader:"spinner_Loader__Ta4cx",load2:"spinner_load2__hpIS4"}},484:function(t,e,n){},485:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n(51),c=n.n(r),i=n(91),o=n(55),u=n(198),s="FETCH_CITIES_START",d="FETCH_CITIES_SUCCESSFUL",l="FETCH_CITIES_ERROR",p=n(134),j=n(199),f=n.n(j),b=function(t){return Math.floor(t-273)},h=function(t){return f.a.unix(t).format("YYYY-MM-DD, HH:MM")},y={400:"Please type your city name",404:"Please try another city"},x=function(t,e){return Object(p.a)(Object(p.a)({},t),e)},O={city:{},loading:!1,error:null},m=function(t,e){return x(t,{loading:!0})},v=function(t,e){return x(t,{city:e.payload,loading:!1,error:null})},g=function(t,e){return x(t,{error:e.payload,loading:!1,city:{}})},_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case s:return m(t);case d:return v(t,e);case l:return g(t,e);default:return t}},C=n(22),M=n(92),S=n.n(M),E=n(11),F=function(t){var e=t.onChange;return Object(E.jsx)("input",{placeholder:"Please type your city",onChange:function(t){return e(t.target.value)}})},T=n(487),I=n(491),k=n(217),w=n(216),L=n(70),W=n(67),H=n(221),N=function(t){var e=t.active,n=t.payload,a=t.label;return e&&n&&n.length?Object(E.jsxs)("div",{children:[Object(E.jsxs)("p",{children:["date: ",h(a)]}),Object(E.jsxs)("p",{children:["temperature: ",n[0].payload.avg,"\u2103"]}),Object(E.jsxs)("p",{children:["min-max: ","".concat(n[0].payload.min,"-").concat(n[0].payload.max),"\u2103"]})]}):null},R=function(t){var e=t.data;return Object(E.jsxs)(T.a,{layout:"vertical",width:600,height:1e3,data:e,children:[Object(E.jsx)(I.a,{strokeDasharray:"5 5"}),Object(E.jsx)(k.a,{type:"category",dataKey:"date",fontSize:"10",tickFormatter:function(t){return h(t)}}),Object(E.jsx)(w.a,{type:"number"}),Object(E.jsx)(L.a,{position:{y:80,x:600},content:Object(E.jsx)(N,{})}),Object(E.jsx)(W.a,{}),Object(E.jsx)(H.a,{name:"temperature \u2103",dataKey:"avg",fill:"#8884d8"})]})},Y=function(t){var e=t.onClick,n=void 0===e?function(){}:e,a=t.text,r=void 0===a?"":a;return Object(E.jsx)("button",{onClick:n,children:r})},D=n(218),P=n.n(D),J=function(){return Object(E.jsx)("div",{className:P.a.Loader,children:"Loading..."})},K=function(t){var e,n=t.onFetchCity,r=t.weatherList,c=t.error,i=t.loading,o=Object(a.useState)(""),u=Object(C.a)(o,2),s=u[0],d=u[1];return Object(E.jsxs)("div",{className:S.a.mainWrapper,children:[Object(E.jsxs)("div",{className:S.a.inputWrapper,children:[Object(E.jsx)(F,{onChange:d}),Object(E.jsx)(Y,{onClick:function(){n(s)},text:"Search"})]}),i&&Object(E.jsx)(J,{}),c&&Object(E.jsx)("div",{className:S.a.errorMessage,children:y[c]}),r&&Object(E.jsx)(R,{data:(e=r,e.map((function(t){return{date:t.dt,min:b(t.main.temp_min),max:b(t.main.temp_max),avg:b(t.main.temp)}})))})]})},U=function(t){var e,n;return null===(e=t.city)||void 0===e||null===(n=e.city)||void 0===n?void 0:n.list},q=function(t){var e;return null===(e=t.city.error)||void 0===e?void 0:e.cod},z=function(t){return t.city.loading},A=n(219),B=n.n(A),X="https://api.openweathermap.org/data/2.5/forecast",G="bad46dfee1ae1125ec4faf31e63449de",Q=function(t){return function(e){e({type:s}),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return B.a.get("".concat(X,"?q=").concat(t,"&appid=").concat(G))}(t).then((function(t){var n;e((n=t.data,{type:d,payload:n}))})).catch((function(t){e(function(t){return{type:l,payload:t}}(t.response.data))}))}},V=Object(i.b)((function(t){return{weatherList:U(t),error:q(t),loading:z(t)}}),(function(t){return{onFetchCity:function(e){return t(Q(e))}}}))(K),Z=(n(484),Object(o.c)({city:_})),$=Object(o.d)(Z,Object(o.a)(u.a));c.a.render(Object(E.jsx)(i.a,{store:$,children:Object(E.jsx)(V,{})}),document.getElementById("root"))},92:function(t,e,n){t.exports={mainWrapper:"Main_mainWrapper__1CSF0",inputWrapper:"Main_inputWrapper__3XaM5",errorMessage:"Main_errorMessage__3s4xF"}}},[[485,1,2]]]);
//# sourceMappingURL=main.c9fe5dd6.chunk.js.map