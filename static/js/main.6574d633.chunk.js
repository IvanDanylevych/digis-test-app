(this["webpackJsonpdigis-test"]=this["webpackJsonpdigis-test"]||[]).push([[0],{483:function(t,e,n){},484:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n(51),c=n.n(r),i=n(91),o=n(55),u=n(198),s="FETCH_CITIES_START",d="FETCH_CITIES_SUCCESSFUL",l="FETCH_CITIES_ERROR",p=n(134),j=n(199),f=n.n(j),y=function(t){return Math.floor(t-273)},b=function(t){return f.a.unix(t).format("YYYY-MM-DD, HH:MM")},h={400:"Please type your city name",404:"Please try another city"},x=function(t,e){return Object(p.a)(Object(p.a)({},t),e)},m={city:{},loading:!1,error:null},v=function(t,e){return x(t,{loading:!0})},O=function(t,e){return x(t,{city:e.payload,loading:!1,error:null})},g=function(t,e){return x(t,{error:e.payload,loading:!1,city:{}})},C=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case s:return v(t);case d:return O(t,e);case l:return g(t,e);default:return t}},_=n(22),M=n(92),S=n.n(M),E=n(13),F=function(t){var e=t.onChange;return Object(E.jsx)("input",{placeholder:"Please type your city",onChange:function(t){return e(t.target.value)}})},T=n(486),k=n(490),w=n(217),I=n(216),W=n(70),H=n(67),R=n(220),Y=function(t){var e=t.active,n=t.payload,a=t.label;return e&&n&&n.length?Object(E.jsxs)("div",{children:[Object(E.jsxs)("p",{children:["date: ",b(a)]}),Object(E.jsxs)("p",{children:["temperature: ",n[0].payload.avg,"\u2103"]}),Object(E.jsxs)("p",{children:["min-max: ","".concat(n[0].payload.min,"-").concat(n[0].payload.max,"\u2103")]})]}):null},D=function(t){var e=t.data;return Object(E.jsxs)(T.a,{layout:"vertical",width:600,height:1e3,data:e,children:[Object(E.jsx)(k.a,{strokeDasharray:"5 5"}),Object(E.jsx)(w.a,{type:"category",dataKey:"date",fontSize:"10",tickFormatter:function(t){return b(t)}}),Object(E.jsx)(I.a,{type:"number"}),Object(E.jsx)(W.a,{position:{y:80,x:600},content:Object(E.jsx)(Y,{})}),Object(E.jsx)(H.a,{}),Object(E.jsx)(R.a,{name:"temperature \u2103",dataKey:"avg",fill:"#8884d8"})]})},L=function(t){var e=t.onClick,n=void 0===e?function(){}:e,a=t.text,r=void 0===a?"":a;return Object(E.jsx)("button",{onClick:n,children:r})},N=function(t){var e,n=t.onFetchCity,r=t.weatherList,c=t.error,i=Object(a.useState)(""),o=Object(_.a)(i,2),u=o[0],s=o[1];return Object(E.jsxs)("div",{className:S.a.mainWrapper,children:[Object(E.jsxs)("div",{className:S.a.inputWrapper,children:[Object(E.jsx)(F,{onChange:s}),Object(E.jsx)(L,{onClick:function(){n(u)},text:"Search"})]}),c&&Object(E.jsx)("div",{className:S.a.errorMessage,children:h[c]}),r&&Object(E.jsx)(D,{data:(e=r,e.map((function(t){return{date:t.dt,min:y(t.main.temp_min),max:y(t.main.temp_max),avg:y(t.main.temp)}})))})]})},P=function(t){var e,n;return null===(e=t.city)||void 0===e||null===(n=e.city)||void 0===n?void 0:n.list},J=function(t){var e;return null===(e=t.city.error)||void 0===e?void 0:e.cod},K=n(218),U=n.n(K),q="https://api.openweathermap.org/data/2.5/forecast",z="bad46dfee1ae1125ec4faf31e63449de",A=function(t){return function(e){e({type:s}),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return U.a.get("".concat(q,"?q=").concat(t,"&appid=").concat(z))}(t).then((function(t){var n;e((n=t.data,{type:d,payload:n}))})).catch((function(t){e(function(t){return{type:l,payload:t}}(t.response.data))}))}},B=Object(i.b)((function(t){return{weatherList:P(t),error:J(t)}}),(function(t){return{onFetchCity:function(e){return t(A(e))}}}))(N),X=(n(483),Object(o.c)({city:C})),G=Object(o.d)(X,Object(o.a)(u.a));c.a.render(Object(E.jsx)(i.a,{store:G,children:Object(E.jsx)(B,{})}),document.getElementById("root"))},92:function(t,e,n){t.exports={mainWrapper:"Main_mainWrapper__1CSF0",inputWrapper:"Main_inputWrapper__3XaM5",errorMessage:"Main_errorMessage__3s4xF"}}},[[484,1,2]]]);
//# sourceMappingURL=main.6574d633.chunk.js.map